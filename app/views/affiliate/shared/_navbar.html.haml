%ul.primary-nav
  - if affiliate_signed_in? 
    %li
      - if controller.controller_name == 'affiliates' or controller.controller_name == 'registrations' or controller.controller_name == 'home' or controller.controller_name == 'financial_informations'
        =link_to 'Dashboard', affiliate_root_path, :class => 'current'
        %ul.secondary-nav
          %li= link_to "<strong>Affiliate Account</strong> home", affiliate_root_path, :class => (controller.controller_name != 'credit_cards' and controller.action_name == 'index'?'current':'')
          %li= link_to "<strong>Financial</strong> information", affiliate_affiliate_financial_informations_path(current_affiliate), :class => (controller.controller_name == 'financial_informations' and controller.action_name == 'index'?'current':'')
          - if controller.controller_name == 'financial_informations'
            %li= link_to "<strong>Add</strong> bank information", new_affiliate_affiliate_financial_information_path(current_affiliate, :type => :bank), :class => ((controller.action_name == 'new' or controller.action_name == 'create')?'current':'')
            %li= link_to "<strong>Add</strong> paypal information", new_affiliate_affiliate_financial_information_path(current_affiliate, :type => :paypal), :class => ((controller.action_name == 'new' or controller.action_name == 'create')?'current':'')
      - else
        =link_to 'Dashboard', affiliate_root_path
    
    %li
      - if controller.controller_name == 'publishers'
        =link_to 'Publishers', affiliate_affiliate_publishers_path(current_affiliate), :class => 'current'
        %ul.secondary-nav
          %li= link_to "<strong>All</strong> publishers", affiliate_affiliate_publishers_path(current_affiliate), :class => (controller.action_name == 'index'?'current':'')
      - else
        =link_to 'Publishers', affiliate_affiliate_publishers_path(current_affiliate)
    
    %li
      - if controller.controller_name == 'affiliate_introductions'
        =link_to 'Introductions', affiliate_affiliate_affiliate_introductions_path(current_affiliate), :class => 'current'
        %ul.secondary-nav
          %li= link_to "<strong>All</strong> introductions", affiliate_affiliate_affiliate_introductions_path(current_affiliate), :class => (controller.action_name == 'index'?'current':'')
          %li= link_to "<strong>New</strong> introduction", new_affiliate_affiliate_affiliate_introduction_path(current_affiliate), :class => ((controller.action_name == 'new' or controller.action_name == 'create')?'current':'')
      - else
        =link_to 'Introductions', affiliate_affiliate_affiliate_introductions_path(current_affiliate)
    
    - if false
      %li
        - if controller.controller_name == 'affiliate_invoices'
          =link_to 'Invoices', affiliate_affiliate_affiliate_invoices_path(current_affiliate), :class => 'current'
          %ul.secondary-nav
            %li= link_to "<strong>All</strong> invoices", affiliate_affiliate_affiliate_invoices_path(current_affiliate), :class => (controller.action_name == 'index'?'current':'')
            - if controller.action_name == 'show'
              %li= link_to "<strong>Invoice</strong> #{@affiliate_invoice.id}", affiliate_affiliate_affiliate_invoice_path(current_affiliate, @affiliate_invoice.id), :class => (controller.action_name == 'edit'?'current':'')
            - if controller.action_name == 'pay'
              %li= link_to "<strong>Invoice</strong> #{@affiliate_invoice.id}", affiliate_affiliate_affiliate_invoice_path(current_affiliate, @affiliate_invoice.id)
              %li= link_to "<strong>Add</strong> payment", pay_affiliate_affiliate_affiliate_invoice_path(current_affiliate,@affiliate_invoice), :class => (controller.action_name == 'pay'?'current':'')
        - else
          =link_to 'Invoices', affiliate_affiliate_affiliate_invoices_path(current_affiliate)
    
