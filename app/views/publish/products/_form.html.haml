.group
  = f.error_messages

- if @product.new_record? or @product.cd?
  :javascript
    $(function() {
      $("#for_cd").show();
      $("#for_dvd").hide();
    });
- else
  :javascript
    $(function() {
      $("#for_cd").hide();
      $("#for_dvd").show();
    });

:javascript
  $(function() {
    $("#product_media_type_id").change(function() {
      if ($(this).val()=='#{MediaType::CD}')
      {
        $("#for_cd").show();
        $("#for_dvd").hide();
      }
      else if ($(this).val()=='#{MediaType::DVD}')
      {
        $("#for_cd").hide();
        $("#for_dvd").show();
      }
      return false;
    });
  });

.group
  = f.label :media_type_id, "Media Type", :class => :label
  = f.collection_select :media_type_id, MediaType.all, :id, :name

.group
  = f.label :title, "Title", :class => :label
  = f.text_field :title, :class => 'text_field'

.group
  = f.label :genre_id, "Genre", :class => :label
#for_cd.group
  for CD
  = f.collection_select :genre_id, Genre.for_cd, :id, :title, { :include_blank => :true }
#for_dvd.group
  for DVD
  = f.collection_select :genre_id, Genre.for_dvd, :id, :title, { :include_blank => :true }

.group
  = f.label :studio, "Studio", :class => :label
  = f.text_field :studio, :class => 'text_field'

.group
  = f.label :performers, "Actors/Musicians", :class => :label
  = f.text_area :performers, :rows => 2, :class => 'text_area'
  %span.description Ex: a simple text

.group
  = f.label :description, "Description", :class => :label
  = f.text_area :description, :rows => 5, :class => 'text_area'
  %span.description Ex: a simple text

.group
  = f.label :keyword_list, "Keywords", :class => :label
  = f.text_field :keyword_list, :class => 'text_field'
  %span.description Tip: Separate keywords with commas

.group
  = f.label :price, "Price", :class => :label
  = f.text_field :price, :class => 'text_field_small'

.group
  = f.label :running_time, "Running Time", :class => :label
  = f.text_field :running_time, :class => 'text_field_small'

.group
  = f.label :cover, "Cover Art", :class => :label
  - if @product.cover.exists?
    %p= image_tag(@product.cover.url(:medium))
  = f.file_field :cover, :class => 'text_field'
  %span.description (Only JPEG or PNG images)

.group.navform.wat-cf
  %button.button{:type => 'submit'}
    = image_tag("web-app-theme/tick.png", :alt => "Save")
    Save
  = link_to "#{image_tag("web-app-theme/cross.png", :alt => "Cancel")} Cancel", publish_publisher_products_path(current_publisher), :class => "button"

